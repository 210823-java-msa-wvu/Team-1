<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
</head>

<div id="post-box" class="container">
<h1>Make a Post</h1>
<form [formGroup] = "postForm" (ngSubmit)="onSubmit()">
        
    <div class="form-floating">
        <textarea 
        class="form-control"  placeholder="Type Title Here" 
        id="floatingTitle" formControlName ="title" 
        [ngClass]="{ 'is-invalid': submitted && f.description.errors }"
        ></textarea>

        <label for="floatingTitle">Title</label>

        <div *ngIf="submitted && f.title.errors" class="invalid-feedback">
            <div *ngIf="f.title.errors.required">Title is Required</div>
        </div>
    </div>

    <br>

    <div class="form-floating">
        <textarea 
        class="form-control"  placeholder="Type Description Here" 
        id="floatingTextarea" formControlName ="description" 
        [ngClass]="{ 'is-invalid': submitted && f.description.errors }"
        ></textarea>
        <label for="floatingTextarea">Description</label>
        <div *ngIf="submitted && f.description.errors" class="invalid-feedback">
            <div *ngIf="f.description.errors.required">Description is Required</div>
        </div>
    </div>

    <br>

    <div class="form-floating">
        <textarea 
        class="form-control"  placeholder="List Ingredients Here" 
        id="floatingTextarea" formControlName ="ingredients" 
        [ngClass]="{ 'is-invalid': submitted && f.ingredients.errors }" 
        ></textarea>
        <label for="floatingTextarea">Ingredients</label>
        <div *ngIf="submitted && f.ingredients.errors" class="invalid-feedback">
            <div *ngIf="f.ingredients.errors.required">Ingredients is Required</div>
        </div>
    </div>

    <br>

    <div class="form-floating">
        <textarea 
        class="form-control"  placeholder="Type Imgage URL Here" 
        id="floatingImgUrl" formControlName ="img_url" 
        [ngClass]="{ 'is-invalid': submitted && f.description.errors }"
        ></textarea>

        <label for="floatingImgUrl">Image URL</label>

        <div *ngIf="submitted && f.img_url.errors" class="invalid-feedback">
            <div *ngIf="f.img_url.errors.required">Image URL is Required</div>
        </div>
    </div>

    <div class="form-group">
        <button id="submit" class="btn btn-primary">
            <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
            Submit
        </button>

        <button id="cancel" routerLink="/" class="btn btn-link">
            <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
            Cancel
        </button>

    </div>

</form>
</div>

<router-outlet></router-outlet>
